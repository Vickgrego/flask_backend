<h2>Assets</h2> <button class="top-right btn-success" (click)="addAsset()"><i class="fa fa-plus" aria-hidden="true"></i> Add Asset</button>
<div class="filters form-control-container">
  <div class="form-control">
    <label for="searchString">Search String</label>
    <input type="text" id="searchString" [(ngModel)]="filter.searchString" (keyup)="onFilterChange($event)">
  </div>
  <div class="form-control">
    <label class="smaller" for="hasFiles">Has Files</label>
    <select id="hasFiles" (change)="onFilterChange($event)" [(ngModel)]="filter.hasFiles">
      <option selected value="">-all-</option>
      <option value="true">Yes</option>
      <option value="false">No</option>
    </select>
  </div>
  <div class="form-control">
    <label class="small" for="isFeatured">Is Featured</label>
    <select id="isFeatured" (change)="onFilterChange($event)" [(ngModel)]="filter.isFeatured">
      <option selected value="">-all-</option>
      <option value="true">Yes</option>
      <option value="false">No</option>
    </select>
  </div>
  <div class="form-control">
    <label class="smaller" for="isActive">Is Active</label>
    <select id="isActive" (change)="onFilterChange($event)" [(ngModel)]="filter.isActive">
      <option selected value="">-all-</option>
      <option value="true">Yes</option>
      <option value="false">No</option>
    </select>
  </div>
  <div class="form-control">
    <label class="small" for="assetType">Asset Type</label>
    <select id="assetType" (change)="onFilterChange($event)" [(ngModel)]="filter.assetType">
      <option selected value="">-all-</option>
      <option *ngFor="let type of fileTypes" [value]="type.id">{{type.name}}</option>
    </select>
  </div>
</div>
<p-dataTable [value]="assets"
             [lazy]="true"
             [totalRecords]="totalCount"
             [rows]="filter.itemsPerPage"
             [paginator]="true"
             [pageLinks]="3"
             [rowsPerPageOptions]="[10, 25, 50, 100, 500]"
             selectionMode="single"
             (onRowSelect)="editAsset($event)"
             (onLazyLoad)="onPage($event)">

  <p-column styleClass="culumn-item" [style]="{'width': '52px'}" field="id" header="ID"></p-column>
  <p-column styleClass="culumn-item" [style]="{'width': '68px'}" field="assetType" header="Type"></p-column>
  <p-column styleClass="culumn-item" field="name" header="Name"></p-column>
  <p-column styleClass="culumn-item" [style]="{'min-width': '110px'}" field="description" header="Description"></p-column>
  <p-column styleClass="culumn-item" [style]="{'width': '68px'}" field="files.length" header="Files"></p-column>
  <p-column styleClass="culumn-item"  [style]="{'width': '88px'}" field="thumbNailData" header="Preview">
    <ng-template let-col let-row="rowData" pTemplate="body">
      <span *ngIf="row.hasThumbnail" style="color: green">ok</span>
      <span *ngIf="!row.hasThumbnail" style="color: red">no data</span>
    </ng-template>
  </p-column>
  <p-column styleClass="culumn-item" [style]="{'width': '94px'}" field="isFeatured" header="Featured">
    <ng-template let-col let-row="rowData" pTemplate="body">
      {{row.isFeatured ? "Yes" : "No"}}
    </ng-template>
  </p-column>
  <p-column styleClass="culumn-item" [style]="{'width': '77px'}" field="isActive" header="Active">
    <ng-template let-col let-row="rowData" pTemplate="body">
      {{row.isActive ? "Yes" : "No"}}
    </ng-template>
  </p-column>
  <p-column styleClass="culumn-item" [style]="{'width': '110px'}" field="featuredOn" header="featured on">
    <ng-template let-col let-row="rowData" pTemplate="body">
      {{row.featuredOn|date:short }}
    </ng-template>
  </p-column>
</p-dataTable>

